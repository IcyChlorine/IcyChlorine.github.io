<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>用线性规划解决《戴森球计划》中的生产规划问题 - IcyChlorine&#039;s Blog</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="IcyChlorine&#039;s Blog"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="IcyChlorine&#039;s Blog"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="李辰剑 2023-6-16 定稿 一、问题引入《戴森球计划》相信大家都很熟悉啦，它是一款科幻主题的模拟经营游戏。在《戴森球计划》中，玩家需要在宇宙中采集材料、解锁科技、进行工业生产，最终建造出一个包裹恒星的戴森球，通过戴森球大量收割恒星的太阳能。然而，《戴森球计划》中科技产品的生产和建造极其复杂（配方很复杂，供应链更复杂）；而建造整个戴森球（包裹整个恒星，物资消耗能不大吗）又需要大量物资，对生产的"><meta property="og:type" content="blog"><meta property="og:title" content="用线性规划解决《戴森球计划》中的生产规划问题"><meta property="og:url" content="http://icychlorine.github.io/2023/06/16/%E7%94%A8%E7%BA%BF%E6%80%A7%E8%A7%84%E5%88%92%E8%A7%A3%E5%86%B3%E3%80%8A%E6%88%B4%E6%A3%AE%E7%90%83%E8%AE%A1%E5%88%92%E3%80%8B%E4%B8%AD%E7%9A%84%E7%94%9F%E4%BA%A7%E8%A7%84%E5%88%92%E9%97%AE%E9%A2%98/"><meta property="og:site_name" content="IcyChlorine&#039;s Blog"><meta property="og:description" content="李辰剑 2023-6-16 定稿 一、问题引入《戴森球计划》相信大家都很熟悉啦，它是一款科幻主题的模拟经营游戏。在《戴森球计划》中，玩家需要在宇宙中采集材料、解锁科技、进行工业生产，最终建造出一个包裹恒星的戴森球，通过戴森球大量收割恒星的太阳能。然而，《戴森球计划》中科技产品的生产和建造极其复杂（配方很复杂，供应链更复杂）；而建造整个戴森球（包裹整个恒星，物资消耗能不大吗）又需要大量物资，对生产的"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="http://icychlorine.github.io/2023/06/16/%E7%94%A8%E7%BA%BF%E6%80%A7%E8%A7%84%E5%88%92%E8%A7%A3%E5%86%B3%E3%80%8A%E6%88%B4%E6%A3%AE%E7%90%83%E8%AE%A1%E5%88%92%E3%80%8B%E4%B8%AD%E7%9A%84%E7%94%9F%E4%BA%A7%E8%A7%84%E5%88%92%E9%97%AE%E9%A2%98/motor-production-chain.png"><meta property="og:image" content="http://icychlorine.github.io/2023/06/16/%E7%94%A8%E7%BA%BF%E6%80%A7%E8%A7%84%E5%88%92%E8%A7%A3%E5%86%B3%E3%80%8A%E6%88%B4%E6%A3%AE%E7%90%83%E8%AE%A1%E5%88%92%E3%80%8B%E4%B8%AD%E7%9A%84%E7%94%9F%E4%BA%A7%E8%A7%84%E5%88%92%E9%97%AE%E9%A2%98/DSP剧照-生产.png"><meta property="og:image" content="http://icychlorine.github.io/2023/06/16/%E7%94%A8%E7%BA%BF%E6%80%A7%E8%A7%84%E5%88%92%E8%A7%A3%E5%86%B3%E3%80%8A%E6%88%B4%E6%A3%AE%E7%90%83%E8%AE%A1%E5%88%92%E3%80%8B%E4%B8%AD%E7%9A%84%E7%94%9F%E4%BA%A7%E8%A7%84%E5%88%92%E9%97%AE%E9%A2%98/DSP剧照-建造中的戴森球.png"><meta property="og:image" content="http://icychlorine.github.io/2023/06/16/%E7%94%A8%E7%BA%BF%E6%80%A7%E8%A7%84%E5%88%92%E8%A7%A3%E5%86%B3%E3%80%8A%E6%88%B4%E6%A3%AE%E7%90%83%E8%AE%A1%E5%88%92%E3%80%8B%E4%B8%AD%E7%9A%84%E7%94%9F%E4%BA%A7%E8%A7%84%E5%88%92%E9%97%AE%E9%A2%98/motor-production-chain.png"><meta property="og:image" content="http://icychlorine.github.io/2023/06/16/%E7%94%A8%E7%BA%BF%E6%80%A7%E8%A7%84%E5%88%92%E8%A7%A3%E5%86%B3%E3%80%8A%E6%88%B4%E6%A3%AE%E7%90%83%E8%AE%A1%E5%88%92%E3%80%8B%E4%B8%AD%E7%9A%84%E7%94%9F%E4%BA%A7%E8%A7%84%E5%88%92%E9%97%AE%E9%A2%98/DSP-production-chain1.png"><meta property="og:image" content="http://icychlorine.github.io/2023/06/16/%E7%94%A8%E7%BA%BF%E6%80%A7%E8%A7%84%E5%88%92%E8%A7%A3%E5%86%B3%E3%80%8A%E6%88%B4%E6%A3%AE%E7%90%83%E8%AE%A1%E5%88%92%E3%80%8B%E4%B8%AD%E7%9A%84%E7%94%9F%E4%BA%A7%E8%A7%84%E5%88%92%E9%97%AE%E9%A2%98/MiniZinc-IDE-screenshot.png"><meta property="og:image" content="http://icychlorine.github.io/2023/06/16/%E7%94%A8%E7%BA%BF%E6%80%A7%E8%A7%84%E5%88%92%E8%A7%A3%E5%86%B3%E3%80%8A%E6%88%B4%E6%A3%AE%E7%90%83%E8%AE%A1%E5%88%92%E3%80%8B%E4%B8%AD%E7%9A%84%E7%94%9F%E4%BA%A7%E8%A7%84%E5%88%92%E9%97%AE%E9%A2%98/matrix-production-chain.png"><meta property="article:published_time" content="2023-06-16T13:48:29.000Z"><meta property="article:modified_time" content="2024-03-20T04:40:39.681Z"><meta property="article:author" content="IcyChlorine"><meta property="article:tag" content="数学"><meta property="article:tag" content="游戏"><meta property="article:tag" content="建模"><meta property="article:tag" content="约束求解"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/2023/06/16/%E7%94%A8%E7%BA%BF%E6%80%A7%E8%A7%84%E5%88%92%E8%A7%A3%E5%86%B3%E3%80%8A%E6%88%B4%E6%A3%AE%E7%90%83%E8%AE%A1%E5%88%92%E3%80%8B%E4%B8%AD%E7%9A%84%E7%94%9F%E4%BA%A7%E8%A7%84%E5%88%92%E9%97%AE%E9%A2%98/motor-production-chain.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://icychlorine.github.io/2023/06/16/%E7%94%A8%E7%BA%BF%E6%80%A7%E8%A7%84%E5%88%92%E8%A7%A3%E5%86%B3%E3%80%8A%E6%88%B4%E6%A3%AE%E7%90%83%E8%AE%A1%E5%88%92%E3%80%8B%E4%B8%AD%E7%9A%84%E7%94%9F%E4%BA%A7%E8%A7%84%E5%88%92%E9%97%AE%E9%A2%98/"},"headline":"IcyChlorine's Blog","image":["http://icychlorine.github.io/2023/06/16/%E7%94%A8%E7%BA%BF%E6%80%A7%E8%A7%84%E5%88%92%E8%A7%A3%E5%86%B3%E3%80%8A%E6%88%B4%E6%A3%AE%E7%90%83%E8%AE%A1%E5%88%92%E3%80%8B%E4%B8%AD%E7%9A%84%E7%94%9F%E4%BA%A7%E8%A7%84%E5%88%92%E9%97%AE%E9%A2%98/motor-production-chain.png","http://icychlorine.github.io/2023/06/16/%E7%94%A8%E7%BA%BF%E6%80%A7%E8%A7%84%E5%88%92%E8%A7%A3%E5%86%B3%E3%80%8A%E6%88%B4%E6%A3%AE%E7%90%83%E8%AE%A1%E5%88%92%E3%80%8B%E4%B8%AD%E7%9A%84%E7%94%9F%E4%BA%A7%E8%A7%84%E5%88%92%E9%97%AE%E9%A2%98/DSP剧照-生产.png","http://icychlorine.github.io/2023/06/16/%E7%94%A8%E7%BA%BF%E6%80%A7%E8%A7%84%E5%88%92%E8%A7%A3%E5%86%B3%E3%80%8A%E6%88%B4%E6%A3%AE%E7%90%83%E8%AE%A1%E5%88%92%E3%80%8B%E4%B8%AD%E7%9A%84%E7%94%9F%E4%BA%A7%E8%A7%84%E5%88%92%E9%97%AE%E9%A2%98/DSP剧照-建造中的戴森球.png","http://icychlorine.github.io/2023/06/16/%E7%94%A8%E7%BA%BF%E6%80%A7%E8%A7%84%E5%88%92%E8%A7%A3%E5%86%B3%E3%80%8A%E6%88%B4%E6%A3%AE%E7%90%83%E8%AE%A1%E5%88%92%E3%80%8B%E4%B8%AD%E7%9A%84%E7%94%9F%E4%BA%A7%E8%A7%84%E5%88%92%E9%97%AE%E9%A2%98/motor-production-chain.png","http://icychlorine.github.io/2023/06/16/%E7%94%A8%E7%BA%BF%E6%80%A7%E8%A7%84%E5%88%92%E8%A7%A3%E5%86%B3%E3%80%8A%E6%88%B4%E6%A3%AE%E7%90%83%E8%AE%A1%E5%88%92%E3%80%8B%E4%B8%AD%E7%9A%84%E7%94%9F%E4%BA%A7%E8%A7%84%E5%88%92%E9%97%AE%E9%A2%98/DSP-production-chain1.png","http://icychlorine.github.io/2023/06/16/%E7%94%A8%E7%BA%BF%E6%80%A7%E8%A7%84%E5%88%92%E8%A7%A3%E5%86%B3%E3%80%8A%E6%88%B4%E6%A3%AE%E7%90%83%E8%AE%A1%E5%88%92%E3%80%8B%E4%B8%AD%E7%9A%84%E7%94%9F%E4%BA%A7%E8%A7%84%E5%88%92%E9%97%AE%E9%A2%98/MiniZinc-IDE-screenshot.png","http://icychlorine.github.io/2023/06/16/%E7%94%A8%E7%BA%BF%E6%80%A7%E8%A7%84%E5%88%92%E8%A7%A3%E5%86%B3%E3%80%8A%E6%88%B4%E6%A3%AE%E7%90%83%E8%AE%A1%E5%88%92%E3%80%8B%E4%B8%AD%E7%9A%84%E7%94%9F%E4%BA%A7%E8%A7%84%E5%88%92%E9%97%AE%E9%A2%98/matrix-production-chain.png"],"datePublished":"2023-06-16T13:48:29.000Z","dateModified":"2024-03-20T04:40:39.681Z","author":{"@type":"Person","name":"IcyChlorine"},"description":"李辰剑 2023-6-16 定稿 一、问题引入《戴森球计划》相信大家都很熟悉啦，它是一款科幻主题的模拟经营游戏。在《戴森球计划》中，玩家需要在宇宙中采集材料、解锁科技、进行工业生产，最终建造出一个包裹恒星的戴森球，通过戴森球大量收割恒星的太阳能。然而，《戴森球计划》中科技产品的生产和建造极其复杂（配方很复杂，供应链更复杂）；而建造整个戴森球（包裹整个恒星，物资消耗能不大吗）又需要大量物资，对生产的"}</script><link rel="canonical" href="http://icychlorine.github.io/2023/06/16/%E7%94%A8%E7%BA%BF%E6%80%A7%E8%A7%84%E5%88%92%E8%A7%A3%E5%86%B3%E3%80%8A%E6%88%B4%E6%A3%AE%E7%90%83%E8%AE%A1%E5%88%92%E3%80%8B%E4%B8%AD%E7%9A%84%E7%94%9F%E4%BA%A7%E8%A7%84%E5%88%92%E9%97%AE%E9%A2%98/"><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.4.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/avatar.webp" alt="IcyChlorine&#039;s Blog" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2023-06-16T13:48:29.000Z" title="2023/6/16 21:48:29">2023-06-16</time>发表</span><span class="level-item"><time dateTime="2024-03-20T04:40:39.681Z" title="2024/3/20 12:40:39">2024-03-20</time>更新</span><span class="level-item" id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span>次访问</span></div></div><h1 class="title is-3 is-size-4-mobile">用线性规划解决《戴森球计划》中的生产规划问题</h1><div class="content"><p>李辰剑 2023-6-16 定稿</p>
<h2 id="一、问题引入"><a href="#一、问题引入" class="headerlink" title="一、问题引入"></a>一、问题引入</h2><p>《戴森球计划》相信大家都很熟悉啦，它是一款科幻主题的模拟经营游戏。在《戴森球计划》中，玩家需要在宇宙中采集材料、解锁科技、进行工业生产，最终建造出一个包裹恒星的戴森球，通过戴森球大量收割恒星的太阳能。然而，《戴森球计划》中科技产品的生产和建造极其复杂（配方很复杂，供应链更复杂）；而建造整个戴森球（包裹整个恒星，物资消耗能不大吗）又需要大量物资，对生产的规模和效率提出了很高的要求。因此，玩家常常需要花费大量时间来设计、建造、调整各种科技产品的生产线，非常痛苦。这也是《戴森球计划》被许多玩家诟病“费肝”的原因。</p>
<p>于是我就想，能否用计算机科学中一些成熟的优化算法来帮忙设计生产线呢？我初步筛选出了三个可以用计算机算法优化的任务：</p>
<p><strong>(1) 用线性规划求解最优的资源、产品分配。</strong>《戴森球计划》中的产业链很长，一些产品的生产配方较为复杂，需要经过多道生产步骤。例如，以下是低阶科技产品<em>电动马达</em>的生产线路图：</p>
<div align="center">
<img src="/2023/06/16/%E7%94%A8%E7%BA%BF%E6%80%A7%E8%A7%84%E5%88%92%E8%A7%A3%E5%86%B3%E3%80%8A%E6%88%B4%E6%A3%AE%E7%90%83%E8%AE%A1%E5%88%92%E3%80%8B%E4%B8%AD%E7%9A%84%E7%94%9F%E4%BA%A7%E8%A7%84%E5%88%92%E9%97%AE%E9%A2%98/motor-production-chain.png" style="zoom: 25%;">
<br>
</div>


<p>如何合理分配资源（例如，以合适的比例将铁矿分配到铁块和磁铁的生产中）以最大化目标产出（例如，最大化马达的生产速率）是一个麻烦的问题。但这一步骤恰好可以用线性规划（Linear Programming）模型求解。</p>
<p><strong>(2) 用集成芯片设计算法优化工厂和物流的布局布线。</strong> 《戴森球计划》中的工厂输入输出和布局可以非常复杂… 其实这和<em>集成芯片物理设计</em>中的元件布局和布线有许多相似之处。</p>
<p><strong>(3) 用非线性模型优化工厂位置和物流。</strong>这个我懂，区位条件嘛！哪颗星球铁矿多、就着重生产钢铁、马达；哪颗星球石油多，就着重搞能源工业和石油化工。如果有市场经济，每个工厂的厂长就会自己搬去离原料最近的工厂，从而最小化物流开销。——可惜《戴森球计划》中的所有生产都由玩家一人负责，因此需要玩家自己优化所有工厂的位置，相当繁琐。如果能写出一个目标函数，以工厂选址为输入变量变量、以物流成本为函数值、再对该函数进行最优化，就可以得到最优的工厂选址，从而将玩家从繁琐的工厂规划中解放出来。</p>
<p>虽然三个想法都很诱人，但是布局布线和非线性优化都过于复杂…… 于是我决定先尝试基于线性规划的想法(1)。也许以后可以试试另两个想法 :-)</p>
<div align="center">
    <img src="/2023/06/16/%E7%94%A8%E7%BA%BF%E6%80%A7%E8%A7%84%E5%88%92%E8%A7%A3%E5%86%B3%E3%80%8A%E6%88%B4%E6%A3%AE%E7%90%83%E8%AE%A1%E5%88%92%E3%80%8B%E4%B8%AD%E7%9A%84%E7%94%9F%E4%BA%A7%E8%A7%84%E5%88%92%E9%97%AE%E9%A2%98/DSP剧照-生产.png">
    <font color="#888888" size="2"></font><br>
    <img src="/2023/06/16/%E7%94%A8%E7%BA%BF%E6%80%A7%E8%A7%84%E5%88%92%E8%A7%A3%E5%86%B3%E3%80%8A%E6%88%B4%E6%A3%AE%E7%90%83%E8%AE%A1%E5%88%92%E3%80%8B%E4%B8%AD%E7%9A%84%E7%94%9F%E4%BA%A7%E8%A7%84%E5%88%92%E9%97%AE%E9%A2%98/DSP剧照-建造中的戴森球.png">
    <font color="#888888" size="2">《戴森球计划》游戏内截图。上：《戴森球计划》中的生产线；下：正在建造中的戴森球。<br></font><br>
</div>

<span id="more"></span>
<h2 id="二、问题建模"><a href="#二、问题建模" class="headerlink" title="二、问题建模"></a>二、问题建模</h2><h3 id="1-《戴森球计划》中的产品分配问题"><a href="#1-《戴森球计划》中的产品分配问题" class="headerlink" title="1. 《戴森球计划》中的产品分配问题"></a>1. 《戴森球计划》中的产品分配问题</h3><p>《戴森球计划》中的产业链很长，一些产品的生产需要经过多道生产步骤。例如，以下是低阶科技产品<em>电动马达</em>的生产线路图：</p>
<div align="center">
<img src="/2023/06/16/%E7%94%A8%E7%BA%BF%E6%80%A7%E8%A7%84%E5%88%92%E8%A7%A3%E5%86%B3%E3%80%8A%E6%88%B4%E6%A3%AE%E7%90%83%E8%AE%A1%E5%88%92%E3%80%8B%E4%B8%AD%E7%9A%84%E7%94%9F%E4%BA%A7%E8%A7%84%E5%88%92%E9%97%AE%E9%A2%98/motor-production-chain.png" style="zoom: 25%;">
<br>
</div>

<p>在生产马达时，给定铁矿和铜矿生产速度，玩家会面临这样一个问题：如何确定铁块和磁铁的生产比例？如果铁块生产过多、磁线圈就会生产<strong>不足</strong>，导致铁块<strong>积压</strong>；相反，如果铁块生产过少、磁铁生产过多，就会导致磁线圈积压。因此，只有合理地分配原料和中间产品，才能达到目标产品的最大产量。合理分配单一资源并非难事。但在《戴森球计划》的实际生产中，往往需要同时平衡十几种原料和产品的供应链，完美平衡所有产物并非易事。</p>
<p>在实际搭建高阶科技产品生产线的时候，常常由于原料生产力不匹配遇到顾此失彼的情况。由于生产线不均衡、无法完美匹配原料生产，从而导致某种材料堆积或缺乏，这会使某一步生产成为瓶颈，无法充分利用星球上的资源禀赋快速生产高级产品。但由于生产链很复杂，手工优化调整很繁琐。</p>
<div>
    <div align="center">
    <img src="/2023/06/16/%E7%94%A8%E7%BA%BF%E6%80%A7%E8%A7%84%E5%88%92%E8%A7%A3%E5%86%B3%E3%80%8A%E6%88%B4%E6%A3%AE%E7%90%83%E8%AE%A1%E5%88%92%E3%80%8B%E4%B8%AD%E7%9A%84%E7%94%9F%E4%BA%A7%E8%A7%84%E5%88%92%E9%97%AE%E9%A2%98/DSP-production-chain1.png">
    </div>
    <font color="#888888" size="2">《戴森球计划》中高阶科技产品「能量矩阵」和「结构矩阵」的生产过程。从原材料到成品，构成了一个复杂的有向无环图 (DAG) 结构。图片来自 <a target="_blank" rel="noopener" href="https://steamah.com/dyson-sphere-program-matrix-production-guide/">https://steamah.com/dyson-sphere-program-matrix-production-guide/</a>。<br>
    </font><br>
</div>


<p>考虑到《戴森球计划》中的生产配方都是「线性的」，即，一份原料一份收获，我们可以将原料分配问题建模为线性规划问题。一旦将问题建模为线性规划问题，就可以调用成熟的线性规划求解器自动求解，从而将玩家从繁琐的手动优化中解放出来。</p>
<h3 id="2-假设与变量"><a href="#2-假设与变量" class="headerlink" title="2. 假设与变量"></a>2. 假设与变量</h3><p>《戴森球计划》中的自动化生产是一个非常复杂的问题。除了原料之外，还要考虑物流、工厂占地、生产速率等等问题。为了将问题规约为简单的线性规划模型，我们做一些简化：</p>
<ol>
<li>假设星球上的资源<em>总量</em>无限，但每分钟采集的资源数量（即资源采集<em>速率</em>）受到矿脉数量限制。</li>
<li>假设星球上总是有足够的地方修建工厂。</li>
<li>假设有充足的能源供应（依靠正在建造的戴森球）和便捷的物流系统（不用考虑物流运输问题）。</li>
</ol>
<p>在这些假设下，能源、工厂占地、物流都不成为问题，资源采集速率是对生产的唯一约束。</p>
<blockquote>
<p>因此，这一模型求解得到的结果不提供工厂和物流的布局方案，只提供原料和各个工业品的分配方案QAQ</p>
</blockquote>
<p>接下来，我们将『每种工业品的每分钟生产量』（即生产速率）建模为线性规划中的变量。例如，铁矿，铁块，齿轮的每分钟生产数量分别对应线性规划中的 $\sharp铁矿$,$\sharp铁块$,$\sharp 齿轮$ 变量。其中，「$\sharp$」表示「数量」之意。</p>
<p>以钢铁生产线为例。在《戴森球计划》中，一单位铁矿可以冶炼出一单位铁块，一单位铁块又可以生产一单位齿轮。假设每分钟最多采集 2500 单位铁矿，就可以得到如下约束：</p>
<script type="math/tex; mode=display">
\sharp 铁矿,\sharp 铁块,\sharp 齿轮\ge0\\
\sharp 铁矿\le2500\\
\sharp 铁块\le\sharp 铁矿\\
\sharp 齿轮\le\sharp 铁块\notag</script><h3 id="3-将原料生产模型转化为线性规划问题"><a href="#3-将原料生产模型转化为线性规划问题" class="headerlink" title="3. 将原料生产模型转化为线性规划问题"></a>3. 将原料生产模型转化为线性规划问题</h3><p>假设 $原料_i$ 供应了产品 $产品_1,产品_2,…,产品_{m_i}$的生产，其中生产每份 $产品_j$ 需要 $a_{ji}$ 份 $原料_i$。那线性规划模型中的约束可以写为：</p>
<script type="math/tex; mode=display">
\sum_{j=1}^{m_i}a_{ji}\cdot\sharp 产品_j\le\sharp原料_i\tag*{[Constraint $i$]}</script><p>若一种产品的生产配方同时需要多种原料，则需要同时出现在多个原料的约束式里。例如，如果考虑电动马达生产线、忽略其它产品，可以得到以下的模型：</p>
<script type="math/tex; mode=display">
\begin{align*}
\max_{\sharp \mathrm{prod.}\ge0}\ & \sharp 电动马达\\
\color{teal}{\sharp 铁矿}\ &\le2500\\
\color{brown}{\sharp 铜矿}\ &\le2000\\
\sharp 磁铁+\color{teal}{\sharp 铁块}\ &\le \color{teal}{\sharp 铁矿}\\
\color{brown}{\sharp 铜块}\ &\le \color{brown}{\sharp 铜矿}\\[2mm]
2\cdot\sharp 电动马达+\sharp齿轮\ &\le \color{teal}{\sharp铁块}\\
0.5\cdot\sharp 磁线圈\ &\le \color{brown}{\sharp铜块}\\
\sharp 电动马达&\le \sharp齿轮\\
\sharp 电动马达&\le \sharp磁线圈
\end{align*}\notag</script><p>在《戴森球计划》中，大多数物品都由单一配方生产，但少部分物品有多种生产渠道，我们需要为此调整生成的公式。例如，游戏中的石墨烯既可以由可燃冰得到，也可以由化工工艺生产。于是，需要将产品分为两部分写入模型，再用一个式子加起来。例如，对石墨烯可以得到下式（下式中省略了系数和一些原料）：</p>
<script type="math/tex; mode=display">
...\\
\begin{align*}
\sharp 石墨烯^{(可燃冰)}&\le \sharp可燃冰\\
\sharp 石墨烯^{(化工)}&\le \sharp 化工原料\\
\sharp 石墨烯&=\sharp 石墨烯^{(可燃冰)}+\sharp 石墨烯^{(化工)}\\
...(需要石墨烯的产品)...&\le\sharp 石墨烯\\
\end{align*}\\
...</script><h2 id="三、求解器选择，以及代码实现"><a href="#三、求解器选择，以及代码实现" class="headerlink" title="三、求解器选择，以及代码实现"></a>三、求解器选择，以及代码实现</h2><p>线性规划是一个非常成熟的数学模型，市面上有许多求解器可供选择。例如，大名鼎鼎的 MATLAB 便提供了线性规划求解函数。然而，最终我选择了 MiniZinc。MiniZinc 是一款通用的求解器，它可以求解的问题范畴比线性规划大得多。更重要的是，MiniZinc 有自己的约束表示语言，可以通过类似高级语言的方式指定复杂的约束。相比之下，MATLAB 只支持求解矩阵输入形式的线性规划。将复杂的生产配方转换为矩阵形式是一件非常麻烦的事，因此我最终选择了 MiniZinc。</p>
<p>MiniZinc 的核心是一个命令行工具，负责求解由 <code>.mzn</code> 后缀文件指定的约束问题。不过除了命令行交互， MiniZinc 官方还提供了具有图形界面的 IDE 来编辑和运行代码，这也是我采用的交互方式。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在命令行使用 MiniZinc 求解器</span></span><br><span class="line">$ minizinc --solver gecode problem.mzn</span><br></pre></td></tr></table></figure>
<div align="center">
    <img src="/2023/06/16/%E7%94%A8%E7%BA%BF%E6%80%A7%E8%A7%84%E5%88%92%E8%A7%A3%E5%86%B3%E3%80%8A%E6%88%B4%E6%A3%AE%E7%90%83%E8%AE%A1%E5%88%92%E3%80%8B%E4%B8%AD%E7%9A%84%E7%94%9F%E4%BA%A7%E8%A7%84%E5%88%92%E9%97%AE%E9%A2%98/MiniZinc-IDE-screenshot.png">
    <font color="#888888" size="2">MiniZinc IDE 截图</font><br>
</div>

<blockquote>
<p><strong>Remark</strong></p>
<ol>
<li>严格来说 MiniZinc 是一款约束描述语言，真正求解时可以选择不同的求解器。</li>
<li>求解过程中出现了奇怪的现象：若将模型设置为整数线性规划问题，大多数求解器都可以求解；但如果将数据类型设为实数、将模型设置为实数线性规划模型，一些求解器反而无法求解。按理说，实数规划比整数规划更简单才对。</li>
</ol>
</blockquote>
<p>最后，完整的代码如下。其中，矿物资源的生产速度取自我的存档，使用时请修改为自己的存档数据；有一些极少使用的配方没有包含在内。求解结果见第四部分。</p>
<figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">% % DSP.mzn % %</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% % 变量定义 % %</span></span><br><span class="line"><span class="comment">% 原矿</span></span><br><span class="line">var int: iron<span class="built_in">_</span>ore; constraint iron<span class="built_in">_</span>ore &gt;= 0;</span><br><span class="line">var int: copper<span class="built_in">_</span>ore; constraint copper<span class="built_in">_</span>ore &gt;= 0;</span><br><span class="line">var int: coal<span class="built_in">_</span>ore; constraint coal<span class="built_in">_</span>ore &gt;= 0;</span><br><span class="line"></span><br><span class="line"><span class="comment">% 初级产品</span></span><br><span class="line">var int: iron; constraint iron &gt;= 0;</span><br><span class="line">var int: magnet; constraint magnet &gt;= 0;</span><br><span class="line">var int: copper; constraint copper &gt;= 0;</span><br><span class="line">var int: coal; constraint coal &gt;= 0;</span><br><span class="line"></span><br><span class="line"><span class="comment">% 次级产品</span></span><br><span class="line">var int: magnet<span class="built_in">_</span>coil; constraint magnet<span class="built_in">_</span>coil &gt;= 0;</span><br><span class="line">var int: gear; constraint gear &gt;= 0;</span><br><span class="line"></span><br><span class="line"><span class="comment">% 电磁产品生产线</span></span><br><span class="line">var int: EM<span class="built_in">_</span>turbine; constraint EM<span class="built_in">_</span>turbine &gt;= 0;</span><br><span class="line">var int: motor; constraint motor &gt;= 0;</span><br><span class="line"></span><br><span class="line"><span class="comment">% 电路板</span></span><br><span class="line">var int: PCB; constraint PCB &gt;=0; </span><br><span class="line">var int: IC; constraint IC &gt;= 0; <span class="comment">% 当前资源禀赋下（硅矿=2250），IC最多每分钟生产250左右</span></span><br><span class="line">var int: micro<span class="built_in">_</span>unit; constraint micro<span class="built_in">_</span>unit &gt;= 0; </span><br><span class="line"></span><br><span class="line"><span class="comment">% 硅产线</span></span><br><span class="line">var int: silicon<span class="built_in">_</span>ore; constraint silicon<span class="built_in">_</span>ore &gt;= 0;</span><br><span class="line">var int: silicon; constraint silicon &gt;= 0;</span><br><span class="line">var int: lattice<span class="built_in">_</span>silicon; constraint lattice<span class="built_in">_</span>silicon &gt;= 0;</span><br><span class="line"></span><br><span class="line"><span class="comment">% 光学产线</span></span><br><span class="line">var int: raw<span class="built_in">_</span>stone; constraint raw<span class="built_in">_</span>stone &gt;= 0;</span><br><span class="line">var int: glass; constraint glass &gt;= 0;</span><br><span class="line">var int: prism; constraint prism &gt;= 0;</span><br><span class="line">var int: plasma<span class="built_in">_</span>generator; constraint plasma<span class="built_in">_</span>generator &gt;= 0;</span><br><span class="line">var int: photon<span class="built_in">_</span>merger; constraint photon<span class="built_in">_</span>merger &gt;= 0;</span><br><span class="line"></span><br><span class="line"><span class="comment">% 结构产线</span></span><br><span class="line">var int: titanium<span class="built_in">_</span>ore; constraint titanium<span class="built_in">_</span>ore &gt;= 0;</span><br><span class="line">var int: titanium; constraint titanium &gt;= 0;</span><br><span class="line">var int: titan<span class="built_in">_</span>alloy; constraint titan<span class="built_in">_</span>alloy &gt;= 0;</span><br><span class="line">var int: titan<span class="built_in">_</span>glass; constraint titan<span class="built_in">_</span>glass &gt;= 0;</span><br><span class="line">var int: titan<span class="built_in">_</span>diamond; constraint titan<span class="built_in">_</span>diamond &gt;= 0;</span><br><span class="line">var int: diamond; constraint diamond &gt;= 0;</span><br><span class="line">var int: graphene; constraint graphene &gt;= 0;</span><br><span class="line">var int: graphene<span class="built_in">_</span>tube; constraint graphene<span class="built_in">_</span>tube &gt;= 0;</span><br><span class="line">var int: steel; constraint steel &gt;= 0;</span><br><span class="line"></span><br><span class="line"><span class="comment">% 能源</span></span><br><span class="line">var int: HE<span class="built_in">_</span>graphite; constraint HE<span class="built_in">_</span>graphite &gt;= 0;</span><br><span class="line">var int: mined<span class="built_in">_</span>HE<span class="built_in">_</span>graphite; constraint mined<span class="built_in">_</span>HE<span class="built_in">_</span>graphite &gt;= 0;</span><br><span class="line">var int: splitted<span class="built_in">_</span>HE<span class="built_in">_</span>graphite; constraint splitted<span class="built_in">_</span>HE<span class="built_in">_</span>graphite &gt;= 0;</span><br><span class="line">HE<span class="built_in">_</span>graphite = splitted<span class="built_in">_</span>HE<span class="built_in">_</span>graphite + mined<span class="built_in">_</span>HE<span class="built_in">_</span>graphite;</span><br><span class="line"><span class="comment">% HE = High Energy, HE_graphite：高能石墨</span></span><br><span class="line">var int: crude<span class="built_in">_</span>oil; constraint crude<span class="built_in">_</span>oil &gt;= 0;</span><br><span class="line">var int: gasoline; constraint gasoline &gt;= 0;</span><br><span class="line">var int: combustible<span class="built_in">_</span>ice; constraint combustible<span class="built_in">_</span>ice &gt;= 0;</span><br><span class="line">var int: hydrogen; constraint hydrogen &gt;= 0;</span><br><span class="line"><span class="comment">% 从气态巨行星提取的氢</span></span><br><span class="line">var int: extracted<span class="built_in">_</span>hydrogen; constraint extracted<span class="built_in">_</span>hydrogen &gt;= 0;</span><br><span class="line"><span class="comment">% 裂解得到的氢</span></span><br><span class="line">var int: splitted<span class="built_in">_</span>hydrogen; constraint splitted<span class="built_in">_</span>hydrogen &gt;= 0;</span><br><span class="line"><span class="comment">% 原油分馏得到的氢</span></span><br><span class="line">var int: fractioned<span class="built_in">_</span>hydrogen; constraint fractioned<span class="built_in">_</span>hydrogen &gt;= 0;</span><br><span class="line">constraint hydrogen = extracted<span class="built_in">_</span>hydrogen + fractioned<span class="built_in">_</span>hydrogen + splitted<span class="built_in">_</span>hydrogen;</span><br><span class="line">var int: deuterium; constraint deuterium &gt;= 0;</span><br><span class="line">var int: deuterium<span class="built_in">_</span>unit; constraint deuterium<span class="built_in">_</span>unit &gt;= 0;</span><br><span class="line"></span><br><span class="line"><span class="comment">% 化工</span></span><br><span class="line">var int: sulfuric<span class="built_in">_</span>acid; constraint sulfuric<span class="built_in">_</span>acid &gt;= 0;</span><br><span class="line">var int: organic<span class="built_in">_</span>crystal; constraint organic<span class="built_in">_</span>crystal &gt;= 0;</span><br><span class="line">var int: plastic; constraint plastic &gt;= 0;</span><br><span class="line"></span><br><span class="line"><span class="comment">% quantum/advanced</span></span><br><span class="line">var int: super<span class="built_in">_</span>magnet<span class="built_in">_</span>coil; constraint super<span class="built_in">_</span>magnet<span class="built_in">_</span>coil &gt;= 0; <span class="comment">% 当前资源，极限=85/分钟</span></span><br><span class="line">var int: QIC; constraint QIC &gt;= 0;</span><br><span class="line">var int: particle<span class="built_in">_</span>broadband; constraint particle<span class="built_in">_</span>broadband &gt;= 0;</span><br><span class="line">var int: Casmir<span class="built_in">_</span>crystal; constraint Casmir<span class="built_in">_</span>crystal &gt;= 0;</span><br><span class="line">var int: subspace<span class="built_in">_</span>selector; constraint subspace<span class="built_in">_</span>selector &gt;= 0;</span><br><span class="line"><span class="comment">% subspace_selector: 位面过滤器</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% DSP component</span></span><br><span class="line">var int: solar<span class="built_in">_</span>sail; constraint solar<span class="built_in">_</span>sail &gt;= 0;</span><br><span class="line">var int: DSP<span class="built_in">_</span>unit; constraint DSP<span class="built_in">_</span>unit &gt;= 0;</span><br><span class="line"></span><br><span class="line"><span class="comment">% rocket</span></span><br><span class="line">var int: framework<span class="built_in">_</span>mat; constraint framework<span class="built_in">_</span>mat &gt;= 0;</span><br><span class="line">var int: rocket; constraint rocket &gt;= 0;</span><br><span class="line"></span><br><span class="line"><span class="comment">% 科技矩阵</span></span><br><span class="line">var int: EM<span class="built_in">_</span>matrix; constraint EM<span class="built_in">_</span>matrix &gt;= 0;</span><br><span class="line">var int: structure<span class="built_in">_</span>matrix; constraint structure<span class="built_in">_</span>matrix &gt;= 0;</span><br><span class="line">var int: energy<span class="built_in">_</span>matrix; constraint energy<span class="built_in">_</span>matrix &gt;= 0;</span><br><span class="line">var int: information<span class="built_in">_</span>matrix; constraint information<span class="built_in">_</span>matrix &gt;= 0;</span><br><span class="line">var int: gravity<span class="built_in">_</span>matrix; constraint gravity<span class="built_in">_</span>matrix &gt;= 0;</span><br><span class="line">var int: universe<span class="built_in">_</span>matrix; constraint universe<span class="built_in">_</span>matrix &gt;= 0;</span><br><span class="line">var int: gravity<span class="built_in">_</span>len; constraint gravity<span class="built_in">_</span>len &gt;= 0;</span><br><span class="line">var int: particle<span class="built_in">_</span>container; constraint particle<span class="built_in">_</span>container &gt;= 0;</span><br><span class="line">var int: strange<span class="built_in">_</span>matter; constraint strange<span class="built_in">_</span>matter &gt;= 0;</span><br><span class="line"></span><br><span class="line"><span class="comment">% % 原料生产速度 % %</span></span><br><span class="line"><span class="comment">% 请根据存档资源分布调整数值 %</span></span><br><span class="line">constraint iron<span class="built_in">_</span>ore &lt;= 2500;</span><br><span class="line">constraint copper<span class="built_in">_</span>ore &lt;= 2000;</span><br><span class="line">constraint coal<span class="built_in">_</span>ore &lt;= 1300;</span><br><span class="line">constraint raw<span class="built_in">_</span>stone &lt;= 3000;</span><br><span class="line">constraint silicon<span class="built_in">_</span>ore &lt;= 2250;</span><br><span class="line">constraint titanium<span class="built_in">_</span>ore &lt;= 2500;</span><br><span class="line">constraint combustible<span class="built_in">_</span>ice &lt;= 192.04*45;</span><br><span class="line">constraint extracted<span class="built_in">_</span>hydrogen &lt;= 87.1*45; <span class="comment">%~3920</span></span><br><span class="line">constraint crude<span class="built_in">_</span>oil &lt;= 29.28*60; <span class="comment">%~1780;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% % 生产公式约束 % %</span></span><br><span class="line"><span class="comment">% 初级产品</span></span><br><span class="line">constraint iron + magnet &lt;= iron<span class="built_in">_</span>ore;</span><br><span class="line">constraint copper &lt;= copper<span class="built_in">_</span>ore;</span><br><span class="line">constraint 2*silicon &lt;= silicon<span class="built_in">_</span>ore;</span><br><span class="line">constraint 2*titanium &lt;= titanium<span class="built_in">_</span>ore;</span><br><span class="line">constraint 2*mined<span class="built_in">_</span>HE<span class="built_in">_</span>graphite &lt;= coal<span class="built_in">_</span>ore;</span><br><span class="line">constraint 2*glass + 2*sulfuric<span class="built_in">_</span>acid &lt;= raw<span class="built_in">_</span>stone;</span><br><span class="line">constraint 2*splitted<span class="built_in">_</span>hydrogen &lt;= crude<span class="built_in">_</span>oil;</span><br><span class="line">constraint gasoline = 2*splitted<span class="built_in">_</span>hydrogen;</span><br><span class="line">constraint 2*extracted<span class="built_in">_</span>hydrogen &lt;= combustible<span class="built_in">_</span>ice;</span><br><span class="line">constraint graphene = 2*extracted<span class="built_in">_</span>hydrogen;</span><br><span class="line"><span class="comment">% 第一行（生产面板中的第一行产品，下同）</span></span><br><span class="line">constraint gear + 3*steel + 2*motor + 2*PCB + 2*strange<span class="built_in">_</span>matter &lt;= iron;</span><br><span class="line">constraint magnet<span class="built_in">_</span>coil + micro<span class="built_in">_</span>unit + PCB &lt;= copper;</span><br><span class="line">constraint lattice<span class="built_in">_</span>silicon + 2*micro<span class="built_in">_</span>unit + framework<span class="built_in">_</span>mat &lt;= silicon;</span><br><span class="line">constraint 2*titan<span class="built_in">_</span>alloy + 2*titan<span class="built_in">_</span>glass + 6*titan<span class="built_in">_</span>diamond + graphene<span class="built_in">_</span>tube &lt;= 2*titanium;</span><br><span class="line">constraint plastic + diamond + super<span class="built_in">_</span>magnet<span class="built_in">_</span>coil + 2*energy<span class="built_in">_</span>matrix &lt;= HE<span class="built_in">_</span>graphite;</span><br><span class="line">constraint 2*splitted<span class="built_in">_</span>HE<span class="built_in">_</span>graphite + 4*plastic + 2*organic<span class="built_in">_</span>crystal + 3*sulfuric<span class="built_in">_</span>acid &lt;= 2*gasoline;</span><br><span class="line">constraint 3*graphene<span class="built_in">_</span>tube + 4*Casmir<span class="built_in">_</span>crystal + solar<span class="built_in">_</span>sail &lt;= 2*graphene;</span><br><span class="line">constraint 2*organic<span class="built_in">_</span>crystal + particle<span class="built_in">_</span>broadband &lt;= plastic;</span><br><span class="line"><span class="comment">% 第二行</span></span><br><span class="line">constraint 2*magnet<span class="built_in">_</span>coil + super<span class="built_in">_</span>magnet<span class="built_in">_</span>coil &lt;= magnet;</span><br><span class="line">constraint motor + 2*EM<span class="built_in">_</span>turbine + EM<span class="built_in">_</span>matrix + 4*plasma<span class="built_in">_</span>generator &lt;= magnet<span class="built_in">_</span>coil;</span><br><span class="line">constraint 2*particle<span class="built_in">_</span>broadband &lt;= lattice<span class="built_in">_</span>silicon;</span><br><span class="line">constraint deuterium<span class="built_in">_</span>unit + 2*framework<span class="built_in">_</span>mat &lt;= 2*titan<span class="built_in">_</span>alloy;</span><br><span class="line">constraint 2*titan<span class="built_in">_</span>glass + 3*prism &lt;= 2*glass;</span><br><span class="line">constraint 4*gravity<span class="built_in">_</span>len + structure<span class="built_in">_</span>matrix &lt;= diamond;</span><br><span class="line">constraint splitted<span class="built_in">_</span>hydrogen = 3*splitted<span class="built_in">_</span>HE<span class="built_in">_</span>graphite; <span class="comment">% 裂解公式</span></span><br><span class="line">constraint organic<span class="built_in">_</span>crystal &lt;= organic<span class="built_in">_</span>crystal;</span><br><span class="line">constraint 2*splitted<span class="built_in">_</span>HE<span class="built_in">_</span>graphite + 2*deuterium + 12*Casmir<span class="built_in">_</span>crystal + 2*energy<span class="built_in">_</span>matrix &lt;= hydrogen;</span><br><span class="line">constraint 20*deuterium<span class="built_in">_</span>unit + 10*strange<span class="built_in">_</span>matter &lt;= deuterium;</span><br><span class="line">constraint 4*rocket &lt;= deuterium<span class="built_in">_</span>unit;</span><br><span class="line"><span class="comment">% 第三行</span></span><br><span class="line">constraint titan<span class="built_in">_</span>alloy &lt;= steel;</span><br><span class="line">constraint 2*EM<span class="built_in">_</span>turbine &lt;= motor;</span><br><span class="line">constraint 2*subspace<span class="built_in">_</span>selector &lt;= titan<span class="built_in">_</span>glass;</span><br><span class="line">constraint 2*plasma<span class="built_in">_</span>generator + 2*photon<span class="built_in">_</span>merger &lt;= prism;</span><br><span class="line">constraint Casmir<span class="built_in">_</span>crystal + structure<span class="built_in">_</span>matrix &lt;= titan<span class="built_in">_</span>diamond;</span><br><span class="line">constraint gravity<span class="built_in">_</span>len &lt;= strange<span class="built_in">_</span>matter;</span><br><span class="line"><span class="comment">% 第四行</span></span><br><span class="line">constraint motor &lt;= gear;</span><br><span class="line">constraint 2*super<span class="built_in">_</span>magnet<span class="built_in">_</span>coil &lt;= EM<span class="built_in">_</span>turbine;</span><br><span class="line">constraint 2*IC + EM<span class="built_in">_</span>matrix + photon<span class="built_in">_</span>merger &lt;= PCB;</span><br><span class="line">constraint gravity<span class="built_in">_</span>matrix &lt;= gravity<span class="built_in">_</span>len;</span><br><span class="line">constraint 2*titan<span class="built_in">_</span>alloy &lt;= sulfuric<span class="built_in">_</span>acid;</span><br><span class="line">constraint 2*particle<span class="built_in">_</span>broadband + 4*framework<span class="built_in">_</span>mat &lt;= graphene<span class="built_in">_</span>tube;</span><br><span class="line"><span class="comment">% 第五行</span></span><br><span class="line">constraint 0 &lt;= plasma<span class="built_in">_</span>generator;</span><br><span class="line">constraint deuterium<span class="built_in">_</span>unit &lt;= 2*super<span class="built_in">_</span>magnet<span class="built_in">_</span>coil;</span><br><span class="line">constraint information<span class="built_in">_</span>matrix &lt;= particle<span class="built_in">_</span>broadband;</span><br><span class="line">constraint 3*DSP<span class="built_in">_</span>unit + 2*QIC + 2*information<span class="built_in">_</span>matrix &lt;= IC;</span><br><span class="line">constraint subspace<span class="built_in">_</span>selector &lt;= Casmir<span class="built_in">_</span>crystal;</span><br><span class="line">constraint 2*strange<span class="built_in">_</span>matter &lt;= particle<span class="built_in">_</span>container;</span><br><span class="line">constraint 2*QIC &lt;= subspace<span class="built_in">_</span>selector;</span><br><span class="line">constraint 3*DSP<span class="built_in">_</span>unit &lt;= solar<span class="built_in">_</span>sail;</span><br><span class="line">constraint 3*DSP<span class="built_in">_</span>unit &lt;= framework<span class="built_in">_</span>mat;</span><br><span class="line">constraint 2*rocket &lt;= DSP<span class="built_in">_</span>unit;</span><br><span class="line"><span class="comment">% 第六行</span></span><br><span class="line">constraint solar<span class="built_in">_</span>sail &lt;= 2*photon<span class="built_in">_</span>merger;</span><br><span class="line">constraint 2*IC &lt;= micro<span class="built_in">_</span>unit;</span><br><span class="line">constraint 2*rocket + gravity<span class="built_in">_</span>matrix &lt;= QIC;</span><br><span class="line"><span class="comment">% 第七行</span></span><br><span class="line">constraint universe<span class="built_in">_</span>matrix &lt;= EM<span class="built_in">_</span>matrix; <span class="comment">% 电磁矩阵瓶颈：铁矿 #=625</span></span><br><span class="line">constraint universe<span class="built_in">_</span>matrix &lt;= energy<span class="built_in">_</span>matrix; <span class="comment">% 瓶颈：煤矿 #=379</span></span><br><span class="line">constraint universe<span class="built_in">_</span>matrix &lt;= structure<span class="built_in">_</span>matrix; <span class="comment">% 瓶颈：钛矿 #=416</span></span><br><span class="line">constraint universe<span class="built_in">_</span>matrix &lt;= information<span class="built_in">_</span>matrix; <span class="comment">% 瓶颈：硅矿 #=112</span></span><br><span class="line">constraint universe<span class="built_in">_</span>matrix &lt;= gravity<span class="built_in">_</span>matrix; <span class="comment">% 瓶颈：氢和钛矿 #=125</span></span><br><span class="line"><span class="comment">%宇宙矩阵还缺一个反物质约束</span></span><br><span class="line"><span class="comment">% universe_matrix #=62</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% % 目标 % %</span></span><br><span class="line"><span class="comment">%constraint EM_turbine &gt;= 100;</span></span><br><span class="line"><span class="comment">%constraint IC &gt;= 100;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">%solve maximize EM_matrix;</span></span><br><span class="line"><span class="comment">%solve maximize energy_matrix;</span></span><br><span class="line"><span class="comment">%solve maximize structure_matrix;</span></span><br><span class="line"><span class="comment">%solve maximize information_matrix;</span></span><br><span class="line"><span class="comment">%solve maximize gravity_matrix;</span></span><br><span class="line"><span class="comment">%solve maximize universe_matrix;</span></span><br><span class="line">solve maximize rocket;</span><br></pre></td></tr></table></figure>
<h2 id="四、求解结果与分析"><a href="#四、求解结果与分析" class="headerlink" title="四、求解结果与分析"></a>四、求解结果与分析</h2><p>在这一节中，我将以一些终端科技产品为目标，运行优化器，得到有限资源条件下的最优解。有了线性规划求解器的帮助，我们就可以从纷繁复杂的生产线中找到关键的限速路径，并进一步分析其生产瓶颈。</p>
<p>在《戴森球计划》计划中，除去建筑，生产复杂、需求量大的终端科技产品有七种：</p>
<ul>
<li><strong>电磁矩阵</strong>（蓝色矩阵）：需要磁线圈和电磁涡轮生产，象征着电磁学科技。可以看作电磁科技和电磁产品生产力的抽象。</li>
<li><strong>能量矩阵</strong>（红色矩阵）：需要高能石墨和氢元素生产，象征着能源工业。可以看作能源的抽象。</li>
<li><strong>结构矩阵</strong>（黄色矩阵）：需要金刚石和钛晶石生产，象征着高强度材料科技。可以看作高阶材料科技和高强度材料产能的抽象。</li>
<li><strong>信息矩阵</strong>（紫色矩阵）：需要集成芯片（游戏中的“处理器”）和粒子宽带生产，象征着成熟的信息科技。可以看作信息科技和信息产品产能的抽象。</li>
<li><strong>引力矩阵</strong>（绿色矩阵）：需要量子芯片和引力透镜进行生产，象征着量子力学和广义相对论的统一（这两个理论之间有矛盾，现实世界中还没做到相互统一），代表了最高阶的科技和最先进的科技产品。</li>
<li><strong>宇宙矩阵</strong>（白色矩阵）：一份宇宙矩阵由一份电磁矩阵、一份能量矩阵、一份结构矩阵、一份信息矩阵、一份引力矩阵生产，是消耗资源最多、最综合的产品。象征着最前沿且全面的科技水平。</li>
<li><strong>小型运载火箭：</strong>需要戴森球组件、量子芯片和氘核燃料棒生产。小型运载火箭负责将戴森球组件运送到恒星附近并组装，是戴森球的前体。在建造戴森球的过程中，大规模、稳定地量产运载火箭是必不可少的。然而，小型运载火箭的产业链非常长，生产难度高，需求量也非常大，因此设计火箭生产线绝非易事。</li>
</ul>
<p>接下来，我们分别以前述的七种产品产量为目标，进行最优化，然后对结果进行分析。</p>
<div align="center">
    <img src="/2023/06/16/%E7%94%A8%E7%BA%BF%E6%80%A7%E8%A7%84%E5%88%92%E8%A7%A3%E5%86%B3%E3%80%8A%E6%88%B4%E6%A3%AE%E7%90%83%E8%AE%A1%E5%88%92%E3%80%8B%E4%B8%AD%E7%9A%84%E7%94%9F%E4%BA%A7%E8%A7%84%E5%88%92%E9%97%AE%E9%A2%98/matrix-production-chain.png">
    <font color="#888888" size="2">六种矩阵的生产步骤和每一步的配方。<br>
    图片来自<a target="_blank" rel="noopener" href="https://imgur.com/gallery/l5zv7BJ">https://imgur.com/</a>。<br>
    </font><br>
</div>


<h3 id="1-电磁矩阵"><a href="#1-电磁矩阵" class="headerlink" title="1. 电磁矩阵"></a>1. 电磁矩阵</h3><p>在 <code>DSP.mzn</code> 中将最优化目标设为 <code>solve maximize EM_matrix;</code>（即最大化电磁矩阵产量），然后调用求解器，得到以下结果：</p>
<blockquote>
<p>为便于观察理解，求解器结果经过了筛选和重排，下同</p>
</blockquote>
<figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">iron<span class="built_in">_</span>ore = 2500; <span class="comment">% 达到矿物生产速度上限（上限=2500）</span></span><br><span class="line">copper<span class="built_in">_</span>ore = 1250; <span class="comment">% 未达到矿物生产速度上限（上限=2000）</span></span><br><span class="line">iron = 1250;</span><br><span class="line">magnet = 1250;</span><br><span class="line">copper = 1250;</span><br><span class="line">PCB = 625;</span><br><span class="line"></span><br><span class="line">EM<span class="built_in">_</span>matrix = 625;</span><br><span class="line">...(值为0的变量已忽略)...</span><br></pre></td></tr></table></figure>
<p>线性规划的求解结果给出了电磁矩阵的最大生产速率（最后一行），以及产率最大化时对其它产品的需求（前六行）。在不同玩家的不同存档中，资源条件常常存在差异；而在同一存档中，前期和后期的资源开发利用程度也会有所不同。因此，电磁矩阵<strong>最大生产速率的绝对值意义不大</strong>；相比之下，更加重要的是分析<strong>产品的相对生产比例</strong>以及<strong>整体的生产规律和特点</strong>。</p>
<p><strong>可以看到，电磁矩阵的生产强烈依赖于铁矿和铜矿以及随后的铜铁产业。</strong>最后一行告诉我们，（在我的存档条件下，下同）电磁矩阵的最大生产速率为每分钟 625 单位。结合矿物资源上限可以发现，<strong>限制电磁矩阵生产的资源是铁矿</strong>，铜矿并没有被完全利用起来。</p>
<h3 id="2-能量矩阵"><a href="#2-能量矩阵" class="headerlink" title="2. 能量矩阵"></a>2. 能量矩阵</h3><p>在 <code>DSP.mzn</code> 中将最优化目标设为 <code>solve maximize energy_matrix;</code>，然后调用求解器，得到以下结果：</p>
<figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">coal<span class="built_in">_</span>ore = 1300; <span class="comment">% 达到矿物生产速度上限（上限=1780）</span></span><br><span class="line">mined<span class="built_in">_</span>HE<span class="built_in">_</span>graphite = 650;</span><br><span class="line">splitted<span class="built_in">_</span>HE<span class="built_in">_</span>graphite = 292;</span><br><span class="line">HE<span class="built_in">_</span>graphite = 942;</span><br><span class="line">crude<span class="built_in">_</span>oil = 1752; <span class="comment">% 基本达到矿物生产速度上限（上限=1780）</span></span><br><span class="line">gasoline = 1752;</span><br><span class="line">combustible<span class="built_in">_</span>ice = 0;</span><br><span class="line">hydrogen = 1526;</span><br><span class="line">extracted<span class="built_in">_</span>hydrogen = 0; <span class="comment">% 未开采巨型气态行星，氢元素生产仍有潜力</span></span><br><span class="line">splitted<span class="built_in">_</span>hydrogen = 876;</span><br><span class="line">fractioned<span class="built_in">_</span>hydrogen = 650;</span><br><span class="line"></span><br><span class="line">energy<span class="built_in">_</span>matrix = 471;</span><br><span class="line">...(一些值为0的变量已忽略)...</span><br></pre></td></tr></table></figure>
<p><strong>可以看到，能量矩阵的生产强烈依赖于原油生产和煤矿采掘</strong>，这很符合大众对能源工业的印象 :-) 能量矩阵的最大生产速率为每分钟 471 单位，低于电磁矩阵，说明能量矩阵的生产难度更高；从数据可以看出，<strong>限制能量矩阵生产的关键资源是煤矿。</strong></p>
<h3 id="3-结构矩阵"><a href="#3-结构矩阵" class="headerlink" title="3. 结构矩阵"></a>3. 结构矩阵</h3><p>在 <code>DSP.mzn</code> 中将最优化目标设为 <code>solve maximize structure_matrix;</code>，然后调用求解器，得到以下结果：</p>
<figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">coal<span class="built_in">_</span>ore = 832; <span class="comment">% 未达到矿物生产速度上限（上限=1300）</span></span><br><span class="line">titanium<span class="built_in">_</span>ore = 2496; <span class="comment">% 达到矿物生产速度上限（上限=2500）</span></span><br><span class="line">titanium = 1248;</span><br><span class="line">titan<span class="built_in">_</span>alloy = 0;</span><br><span class="line">titan<span class="built_in">_</span>glass = 0;</span><br><span class="line">titan<span class="built_in">_</span>diamond = 416;</span><br><span class="line">diamond = 416;</span><br><span class="line">steel = 0;</span><br><span class="line">mined<span class="built_in">_</span>HE<span class="built_in">_</span>graphite = 416;</span><br><span class="line">splitted<span class="built_in">_</span>HE<span class="built_in">_</span>graphite = 0;</span><br><span class="line">HE<span class="built_in">_</span>graphite = 416;</span><br><span class="line"></span><br><span class="line">structure<span class="built_in">_</span>matrix = 416;</span><br><span class="line">...(一些值为0的变量已忽略)...</span><br></pre></td></tr></table></figure>
<p><strong>可以看到，结构矩阵的生产主要依赖于钛材料和金刚石。</strong>能量矩阵的最大生产速率为每分钟 416 单位，生产难度与能量矩阵基本持平；从数据可以看出，<strong>限制结构矩阵生产的关键资源是钛矿</strong>——这非常符合大众对钛“高强度材料元素”印象。</p>
<h3 id="4-信息矩阵"><a href="#4-信息矩阵" class="headerlink" title="4. 信息矩阵"></a>4. 信息矩阵</h3><p>在 <code>DSP.mzn</code> 中将最优化目标设为 <code>solve maximize information_matrix;</code>，然后调用求解器，得到以下结果：</p>
<figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">iron<span class="built_in">_</span>ore = 896; <span class="comment">% 未达到矿物生产速度上限（上限=2500）</span></span><br><span class="line">copper<span class="built_in">_</span>ore = 896; <span class="comment">% 未达到矿物生产速度上限（上限=2200）</span></span><br><span class="line">coal<span class="built_in">_</span>ore = 134; <span class="comment">% 远未达到矿物生产速度上限（上限=1300）</span></span><br><span class="line">iron = 896;</span><br><span class="line">copper = 896;</span><br><span class="line">PCB = 448;</span><br><span class="line">IC = 224;</span><br><span class="line">micro<span class="built_in">_</span>unit = 448;</span><br><span class="line">silicon<span class="built_in">_</span>ore = 2240; <span class="comment">% 达到矿物生产速度上限（上限=2250）</span></span><br><span class="line">silicon = 1120;</span><br><span class="line">lattice<span class="built_in">_</span>silicon = 224;</span><br><span class="line">titanium<span class="built_in">_</span>ore = 224;</span><br><span class="line">titanium = 112;</span><br><span class="line">graphene = 336;</span><br><span class="line">graphene<span class="built_in">_</span>tube = 224;</span><br><span class="line">mined<span class="built_in">_</span>HE<span class="built_in">_</span>graphite = 67;</span><br><span class="line">splitted<span class="built_in">_</span>HE<span class="built_in">_</span>graphite = 45;</span><br><span class="line">HE<span class="built_in">_</span>graphite = 112;</span><br><span class="line">crude<span class="built_in">_</span>oil = 270; <span class="comment">% 远未达到矿物生产速度上限（上限=1780）</span></span><br><span class="line">gasoline = 270;</span><br><span class="line">combustible<span class="built_in">_</span>ice = 336; <span class="comment">% 远未达到矿物生产速度上限（上限=1300）</span></span><br><span class="line">hydrogen = 303;</span><br><span class="line">extracted<span class="built_in">_</span>hydrogen = 168;</span><br><span class="line">splitted<span class="built_in">_</span>hydrogen = 135;</span><br><span class="line">fractioned<span class="built_in">_</span>hydrogen = 0;</span><br><span class="line">plastic = 112;</span><br><span class="line">particle<span class="built_in">_</span>broadband = 112;</span><br><span class="line"></span><br><span class="line">information<span class="built_in">_</span>matrix = 112;</span><br><span class="line">...(一些值为0的变量已忽略)...</span><br></pre></td></tr></table></figure>
<p>可以看到，<strong>信息矩阵的生产比前几种矩阵要困难得多，</strong>每分钟最多只能生产 112 单位；而且产业链更复杂，<strong>涉及到能源、钛和铁。</strong>不过，在所有消耗的资源中，<strong>硅的消耗量最大，</strong>硅元素产量也直接成为了信息矩阵的生产瓶颈——这非常符合大众对硅元素“信息时代关键原料”的印象。</p>
<h3 id="5-引力矩阵"><a href="#5-引力矩阵" class="headerlink" title="5. 引力矩阵"></a>5. 引力矩阵</h3><p>在 <code>DSP.mzn</code> 中将最优化目标设为 <code>solve maximize gravity_matrix;</code>，然后调用求解器，得到以下结果：</p>
<figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">iron<span class="built_in">_</span>ore = 1250; <span class="comment">% 未达到矿物生产速度上限（上限=2500）</span></span><br><span class="line">copper<span class="built_in">_</span>ore = 1000; <span class="comment">% 未达到矿物生产速度上限（上限=2000）</span></span><br><span class="line">coal<span class="built_in">_</span>ore = 1000; <span class="comment">% 达到矿物生产速度上限（上限=1300）</span></span><br><span class="line">iron = 1250;</span><br><span class="line">magnet = 0;</span><br><span class="line">copper = 1000;</span><br><span class="line">coal = 0;</span><br><span class="line">magnet<span class="built_in">_</span>coil = 0;</span><br><span class="line">gear = 0;</span><br><span class="line">EM<span class="built_in">_</span>turbine = 0;</span><br><span class="line">motor = 0;</span><br><span class="line">PCB = 500;</span><br><span class="line">IC = 250;</span><br><span class="line">micro<span class="built_in">_</span>unit = 500;</span><br><span class="line">silicon<span class="built_in">_</span>ore = 2000; <span class="comment">% 未达到矿物生产速度上限（上限=2250）</span></span><br><span class="line">silicon = 1000;</span><br><span class="line">lattice<span class="built_in">_</span>silicon = 0;</span><br><span class="line">raw<span class="built_in">_</span>stone = 1000; <span class="comment">% 未达到矿物生产速度上限（上限=3000）</span></span><br><span class="line">glass = 500;</span><br><span class="line">prism = 0;</span><br><span class="line">plasma<span class="built_in">_</span>generator = 0;</span><br><span class="line">photon<span class="built_in">_</span>merger = 0;</span><br><span class="line">titanium<span class="built_in">_</span>ore = 2500; <span class="comment">% 达到矿物生产速度上限（上限=2500）</span></span><br><span class="line">titanium = 1250;</span><br><span class="line">titan<span class="built_in">_</span>alloy = 0;</span><br><span class="line">titan<span class="built_in">_</span>glass = 500;</span><br><span class="line">titan<span class="built_in">_</span>diamond = 250;</span><br><span class="line">diamond = 500;</span><br><span class="line">graphene = 500;</span><br><span class="line">mined<span class="built_in">_</span>HE<span class="built_in">_</span>graphite = 500;</span><br><span class="line">splitted<span class="built_in">_</span>HE<span class="built_in">_</span>graphite = 0;</span><br><span class="line">HE<span class="built_in">_</span>graphite = 500;</span><br><span class="line">combustible<span class="built_in">_</span>ice = 500;</span><br><span class="line">hydrogen = 5500;</span><br><span class="line">extracted<span class="built_in">_</span>hydrogen = 250;</span><br><span class="line">splitted<span class="built_in">_</span>hydrogen = 0;</span><br><span class="line">fractioned<span class="built_in">_</span>hydrogen = 5250;</span><br><span class="line">deuterium = 1250;</span><br><span class="line">QIC = 125;</span><br><span class="line">Casmir<span class="built_in">_</span>crystal = 250;</span><br><span class="line">subspace<span class="built_in">_</span>selector = 250;</span><br><span class="line">gravity<span class="built_in">_</span>len = 125;</span><br><span class="line">particle<span class="built_in">_</span>container = 250;</span><br><span class="line">strange<span class="built_in">_</span>matter = 125;</span><br><span class="line"></span><br><span class="line">gravity<span class="built_in">_</span>matrix = 125; <span class="comment">% 引力矩阵最大产量</span></span><br><span class="line">...(一些值为0的变量已忽略)...</span><br></pre></td></tr></table></figure>
<p>可以看到，<strong>引力矩阵也是一种生产难度较高的资源</strong>，最大生产速率只有每分钟 125 单位，且需要「奇异物质」。在所有消耗的资源中，<strong>钛的消耗量最大</strong>，这是因为生产过程中需要大量高强度材料来囚禁高能物质。于是，钛元素产量也成为了引力矩阵的生产瓶颈。</p>
<blockquote>
<p>实际上，在现实世界中，往往通过超导材料产生的强磁场来囚禁高能物质，而不是传统的高强度材料（钛合金、纳米材料等等）。</p>
</blockquote>
<h3 id="5-宇宙矩阵"><a href="#5-宇宙矩阵" class="headerlink" title="5. 宇宙矩阵"></a>5. 宇宙矩阵</h3><p>在 <code>DSP.mzn</code> 中将最优化目标设为 <code>solve maximize universe_matrix;</code>，然后调用求解器，得到以下结果：</p>
<figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">iron<span class="built_in">_</span>ore = 1364; <span class="comment">% 上限=2500</span></span><br><span class="line">copper<span class="built_in">_</span>ore = 1116; <span class="comment">% 上限=2000</span></span><br><span class="line">coal<span class="built_in">_</span>ore = 942; <span class="comment">% 上限=1300</span></span><br><span class="line">iron = 1240;</span><br><span class="line">magnet = 124;</span><br><span class="line">copper = 1116;</span><br><span class="line">magnet<span class="built_in">_</span>coil = 62;</span><br><span class="line">PCB = 558;</span><br><span class="line">IC = 248;</span><br><span class="line">micro<span class="built_in">_</span>unit = 496;</span><br><span class="line">silicon<span class="built_in">_</span>ore = 2232; <span class="comment">% 上限=2250</span></span><br><span class="line">silicon = 1116;</span><br><span class="line">lattice<span class="built_in">_</span>silicon = 124;</span><br><span class="line">raw<span class="built_in">_</span>stone = 496; <span class="comment">% 上限=3000</span></span><br><span class="line">glass = 248;</span><br><span class="line">titanium<span class="built_in">_</span>ore = 1736; <span class="comment">% 上限=2250</span></span><br><span class="line">titanium = 868;</span><br><span class="line">titan<span class="built_in">_</span>alloy = 0;</span><br><span class="line">titan<span class="built_in">_</span>glass = 248;</span><br><span class="line">titan<span class="built_in">_</span>diamond = 186;</span><br><span class="line">diamond = 310;</span><br><span class="line">graphene = 434;</span><br><span class="line">graphene<span class="built_in">_</span>tube = 124;</span><br><span class="line">mined<span class="built_in">_</span>HE<span class="built_in">_</span>graphite = 471;</span><br><span class="line">splitted<span class="built_in">_</span>HE<span class="built_in">_</span>graphite = 25;</span><br><span class="line">HE<span class="built_in">_</span>graphite = 496;</span><br><span class="line">crude<span class="built_in">_</span>oil = 150; <span class="comment">% 上限=1780</span></span><br><span class="line">gasoline = 150;</span><br><span class="line">combustible<span class="built_in">_</span>ice = 434;</span><br><span class="line">hydrogen = 2902;</span><br><span class="line">extracted<span class="built_in">_</span>hydrogen = 217;</span><br><span class="line">splitted<span class="built_in">_</span>hydrogen = 75;</span><br><span class="line">fractioned<span class="built_in">_</span>hydrogen = 2610;</span><br><span class="line">deuterium = 620;</span><br><span class="line">deuterium<span class="built_in">_</span>unit = 0;</span><br><span class="line">sulfuric<span class="built_in">_</span>acid = 0;</span><br><span class="line">organic<span class="built_in">_</span>crystal = 0;</span><br><span class="line">plastic = 62;</span><br><span class="line">QIC = 62;</span><br><span class="line">particle<span class="built_in">_</span>broadband = 62;</span><br><span class="line">Casmir<span class="built_in">_</span>crystal = 124;</span><br><span class="line">subspace<span class="built_in">_</span>selector = 124;</span><br><span class="line">EM<span class="built_in">_</span>matrix = 62;</span><br><span class="line">structure<span class="built_in">_</span>matrix = 62;</span><br><span class="line">energy<span class="built_in">_</span>matrix = 62;</span><br><span class="line">information<span class="built_in">_</span>matrix = 62;</span><br><span class="line">gravity<span class="built_in">_</span>matrix = 62;</span><br><span class="line">universe<span class="built_in">_</span>matrix = 62;</span><br><span class="line">gravity<span class="built_in">_</span>len = 62;</span><br><span class="line">particle<span class="built_in">_</span>container = 124;</span><br><span class="line">strange<span class="built_in">_</span>matter = 62;</span><br></pre></td></tr></table></figure>
<p>宇宙矩阵是最究极的科技产品，需要五种矩阵（电磁、能量、结构、信息、引力）各一份才能生产一单位的宇宙矩阵。可以看到，宇宙矩阵的产业链最长、也需要最多种类的原料。值得注意的是，虽然只要五种矩阵各一份就能生产一单位宇宙矩阵，但宇宙矩阵的最大产量小于任意一个矩阵的最大产量，即：</p>
<script type="math/tex; mode=display">
\sharp 宇宙矩阵<\min\{\color{blue}{\sharp 电磁矩阵}, \color{red}{\sharp 能源矩阵},\color{brown}{\sharp 结构矩阵},\color{purple}{\sharp 信息矩阵},\color{green}{\sharp 引力矩阵}\}_{(\rm alone)}\notag</script><p>其中，“$(\rm alone)$”表示每种矩阵<em>单独生产</em>时对应的最大产量。各种初级矩阵需要的材料相互冲突、相互制约，导致宇宙矩阵的最大产量比各个矩阵产量的<em>最小值</em>还要小，只有每分钟 62 单位。</p>
<h3 id="6-小型运载火箭"><a href="#6-小型运载火箭" class="headerlink" title="6. 小型运载火箭"></a>6. 小型运载火箭</h3><p>最后，我们来查看小型运载火箭的最优生产速度。小型运载火箭是戴森球组件的运载工具，运载火箭的生产速度直接关系到戴森球的建造速度。在《戴森球计划》游戏中，一个戴森球往往需要上万个节点组成，需要数万~数十万艘运载火箭才能建造完成。小型火箭生产越快，戴森球建造得也越快。</p>
<figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">iron<span class="built_in">_</span>ore = 2432; <span class="comment">% 几乎达到矿物生产速度上限（上限=2500）</span></span><br><span class="line">copper<span class="built_in">_</span>ore = 1121; <span class="comment">% 未达到矿物生产速度上限（上限=2000）</span></span><br><span class="line">iron = 1786;</span><br><span class="line">magnet = 646;</span><br><span class="line">copper = 1121;</span><br><span class="line">magnet<span class="built_in">_</span>coil = 304;</span><br><span class="line">gear = 152;</span><br><span class="line">EM<span class="built_in">_</span>turbine = 76;</span><br><span class="line">motor = 152;</span><br><span class="line">PCB = 437;</span><br><span class="line">IC = 190;</span><br><span class="line">micro<span class="built_in">_</span>unit = 380;</span><br><span class="line">silicon<span class="built_in">_</span>ore = 1748; <span class="comment">% 达到矿物生产速度上限（上限=2250）</span></span><br><span class="line">silicon = 874;</span><br><span class="line">raw<span class="built_in">_</span>stone = 1254; <span class="comment">% 达到矿物生产速度上限（上限=3000）</span></span><br><span class="line">glass = 323;</span><br><span class="line">prism = 114;</span><br><span class="line">photon<span class="built_in">_</span>merger = 57;</span><br><span class="line">titanium<span class="built_in">_</span>ore = 1520; <span class="comment">% 达到矿物生产速度上限（上限=2500）</span></span><br><span class="line">titanium = 760;</span><br><span class="line">titan<span class="built_in">_</span>alloy = 152;</span><br><span class="line">titan<span class="built_in">_</span>glass = 152;</span><br><span class="line">titan<span class="built_in">_</span>diamond = 76;</span><br><span class="line">graphene = 894;</span><br><span class="line">graphene<span class="built_in">_</span>tube = 456;</span><br><span class="line">steel = 152;</span><br><span class="line">splitted<span class="built_in">_</span>HE<span class="built_in">_</span>graphite = 92;</span><br><span class="line">HE<span class="built_in">_</span>graphite = 92;</span><br><span class="line">crude<span class="built_in">_</span>oil = 552;</span><br><span class="line">gasoline = 552;</span><br><span class="line">combustible<span class="built_in">_</span>ice = 894;</span><br><span class="line">hydrogen = 4136; <span class="comment">% 大量消耗氢能，但仍未达到上限</span></span><br><span class="line">extracted<span class="built_in">_</span>hydrogen = 447;</span><br><span class="line">splitted<span class="built_in">_</span>hydrogen = 276;</span><br><span class="line">fractioned<span class="built_in">_</span>hydrogen = 3413;</span><br><span class="line">deuterium = 1520; <span class="comment">% 需要大量氘元素用作火箭聚变引擎的燃料</span></span><br><span class="line">deuterium<span class="built_in">_</span>unit = 76;</span><br><span class="line">sulfuric<span class="built_in">_</span>acid = 304;</span><br><span class="line">super<span class="built_in">_</span>magnet<span class="built_in">_</span>coil = 38;</span><br><span class="line">QIC = 38;</span><br><span class="line">Casmir<span class="built_in">_</span>crystal = 76;</span><br><span class="line">subspace<span class="built_in">_</span>selector = 76;</span><br><span class="line">solar<span class="built_in">_</span>sail = 114;</span><br><span class="line">DSP<span class="built_in">_</span>unit = 38;</span><br><span class="line">framework<span class="built_in">_</span>mat = 114;</span><br><span class="line">rocket = 19;</span><br></pre></td></tr></table></figure>
<p>可以看到，运载火箭的生产非常困难，每分钟最多只能生产 19 艘运载火箭，不到 20 艘！这意味着，即使集中当前存档中的所有可用资源（我的存档开发了大约一个恒星系的资源）、建立最完善的产业链，也需要大约</p>
<script type="math/tex; mode=display">
10000/20=500{\rm\ min}=8{\rm\ hr\ }20{\rm\\min}\notag</script><p>才能建成一个戴森球（注意，这是现实世界中的时间！）。因此，玩家要么集中<em>多个恒星系</em>的资源，要么<em>长时间挂机</em>，才能完成戴森球的建造。这也是《戴森球计划》被诟病“太肝”的原因之一。</p>
<p>通过对生产火箭所需原料进行分析，我们发现铁矿、钛矿、硅矿和氢元素的需求量都非常大。因此，要提高运载火箭的产量并不是一件容易的事情。需要同时提高这四种原料及其下游产业链的产量，才能有效提升运载火箭的整体产能。否则，很可能某种原料的产量形成瓶颈，出现“短板效应”。</p>
<h2 id="五、总结"><a href="#五、总结" class="headerlink" title="五、总结"></a>五、总结</h2><p>在本文中，我们将《戴森球计划》中的工业品生产建模为线性规划问题，求解了给定资源禀赋下（以我的存档的资源情况作为参考）一些配方复杂的终端产品的最优生产方案。从结果来看，求解器给出的结果准确而丰富，优化速度远远快于玩家手动分析。</p>
<p>具体而言，我们使用了 MiniZinc 约束描述语言及其自带的求解器进行建模和求解。使用求解器提供的详细数值结果，我们能够从复杂的产业链中找出工业品生产的关键原料、识别产品生产速度的瓶颈，帮助玩家更好地规划生产策略。</p>
<p>尽管取得了一些结果，但我的模型中仍有很多不完善之处。例如，能源物流、工厂布局、区位条件都被忽略掉了，也不能在不同工艺（生产同一工业品的不同配方）间自由选择。这些都是日后可以改进的方向。</p>
<h2 id="感谢"><a href="#感谢" class="headerlink" title="感谢"></a>感谢</h2><p>感谢 ChatGPT 帮助我做了一些文字工作 :-)</p>
</div><div class="article-licensing box"><div class="licensing-title"><p>用线性规划解决《戴森球计划》中的生产规划问题</p><p><a href="http://icychlorine.github.io/2023/06/16/用线性规划解决《戴森球计划》中的生产规划问题/">http://icychlorine.github.io/2023/06/16/用线性规划解决《戴森球计划》中的生产规划问题/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>作者</h6><p>IcyChlorine</p></div></div><div class="level-item is-narrow"><div><h6>发布于</h6><p>2023-06-16</p></div></div><div class="level-item is-narrow"><div><h6>更新于</h6><p>2024-03-20</p></div></div><div class="level-item is-narrow"><div><h6>许可协议</h6><p><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a class="icon" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a><a class="icon" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="fab fa-creative-commons-nc"></i></a><a class="icon" rel="noopener" target="_blank" title="ShareAlike" href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><i class="fab fa-creative-commons-sa"></i></a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/%E6%95%B0%E5%AD%A6/">数学</a><a class="link-muted mr-2" rel="tag" href="/tags/%E6%B8%B8%E6%88%8F/">游戏</a><a class="link-muted mr-2" rel="tag" href="/tags/%E5%BB%BA%E6%A8%A1/">建模</a><a class="link-muted mr-2" rel="tag" href="/tags/%E7%BA%A6%E6%9D%9F%E6%B1%82%E8%A7%A3/">约束求解</a></div><div class="sharethis-inline-share-buttons"></div><script src="https://platform-api.sharethis.com/js/sharethis.js#property=5fb48effefe98e0012650837&amp;product=inline-share-buttons" defer></script></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2024/03/25/%E4%BB%8E%E7%94%B5%E5%AD%90%E5%8F%8C%E7%BC%9D%E5%B9%B2%E6%B6%89%E5%88%B0%E8%B6%85%E5%AF%BC%E5%B9%B2%E6%B6%89(SQUID)/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">从电子双缝干涉到超导干涉(SQUID)</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2022/12/31/Linux-0-11-%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90%E4%B8%8E%E6%80%9D%E8%80%83%E9%A2%98/"><span class="level-item">Linux-0.11 源码解析与思考题</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">评论</h3><div class="notification is-danger">You forgot to set the <code>shortname</code> for Disqus. Please set it in <code>_config.yml</code>.</div></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/img/avatar.webp" alt="李辰剑"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">李辰剑</p><p class="is-size-6 is-block">IcyChlorine</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Beijing/Shanghai, China</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">11</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">0</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">15</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/IcyChlorine" target="_blank" rel="noopener">关注我</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/IcyChlorine"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Bilibili" href="https://space.bilibili.com/35731772"><i class="fas fa-cannabis"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Zhihu" href="https://www.zhihu.com/people/li-chen-jian-29"><i class="fab fa-zhihu"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Netease-Cloud-Music" href="https://music.163.com/#/user/home?id=306748708"><i class="fab fa-itunes-note"></i></a></div></div></div><!--!--><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">链接</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://hexo.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Hexo</span></span><span class="level-right"><span class="level-item tag">hexo.io</span></span></a></li><li><a class="level is-mobile" href="https://space.bilibili.com/35731772" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Bilibili</span></span><span class="level-right"><span class="level-item tag">space.bilibili.com</span></span></a></li><li><a class="level is-mobile" href="https://spiritedawaycn.github.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">SpiritedAwayCN&#039;s blog</span></span><span class="level-right"><span class="level-item tag">spiritedawaycn.github.io</span></span></a></li><li><a class="level is-mobile" href="https://florestan-eusebius.github.io/about.html" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">逸飞姐姐的博客</span></span><span class="level-right"><span class="level-item tag">florestan-eusebius.github.io</span></span></a></li></ul></div></div></div><!--!--><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-03-25T08:06:20.000Z">2024-03-25</time></p><p class="title"><a href="/2024/03/25/%E4%BB%8E%E7%94%B5%E5%AD%90%E5%8F%8C%E7%BC%9D%E5%B9%B2%E6%B6%89%E5%88%B0%E8%B6%85%E5%AF%BC%E5%B9%B2%E6%B6%89(SQUID)/">从电子双缝干涉到超导干涉(SQUID)</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-06-16T13:48:29.000Z">2023-06-16</time></p><p class="title"><a href="/2023/06/16/%E7%94%A8%E7%BA%BF%E6%80%A7%E8%A7%84%E5%88%92%E8%A7%A3%E5%86%B3%E3%80%8A%E6%88%B4%E6%A3%AE%E7%90%83%E8%AE%A1%E5%88%92%E3%80%8B%E4%B8%AD%E7%9A%84%E7%94%9F%E4%BA%A7%E8%A7%84%E5%88%92%E9%97%AE%E9%A2%98/">用线性规划解决《戴森球计划》中的生产规划问题</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-12-31T12:16:00.000Z">2022-12-31</time></p><p class="title"><a href="/2022/12/31/Linux-0-11-%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90%E4%B8%8E%E6%80%9D%E8%80%83%E9%A2%98/">Linux-0.11 源码解析与思考题</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-12-19T01:05:22.000Z">2022-12-19</time></p><p class="title"><a href="/2022/12/19/Notes-A-Link-Layer-Protocol-for-Quantum-Networks/">Notes: A Link Layer Protocol for Quantum Networks</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-06-24T07:11:00.000Z">2022-06-24</time></p><p class="title"><a href="/2022/06/24/%E9%AB%98%E6%96%AF%E7%A7%AF%E5%88%86/">高斯积分</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2024/03/"><span class="level-start"><span class="level-item">三月 2024</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/06/"><span class="level-start"><span class="level-item">六月 2023</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/12/"><span class="level-start"><span class="level-item">十二月 2022</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/06/"><span class="level-start"><span class="level-item">六月 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/01/"><span class="level-start"><span class="level-item">一月 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/09/"><span class="level-start"><span class="level-item">九月 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/06/"><span class="level-start"><span class="level-item">六月 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/04/"><span class="level-start"><span class="level-item">四月 2021</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Linux/"><span class="tag">Linux</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%8E%9F%E5%AD%90%E6%A0%B8/"><span class="tag">原子核</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%BB%BA%E6%A8%A1/"><span class="tag">建模</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"><span class="tag">操作系统</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%95%B0%E5%AD%A6/"><span class="tag">数学</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%B8%B8%E6%88%8F/"><span class="tag">游戏</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%94%B5%E5%AD%90/"><span class="tag">电子</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%A7%AF%E5%88%86/"><span class="tag">积分</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%AD%89%E6%AF%94%E6%95%B0%E5%88%97/"><span class="tag">等比数列</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%BA%A6%E6%9D%9F%E6%B1%82%E8%A7%A3/"><span class="tag">约束求解</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%A7%86%E9%A2%91/"><span class="tag">视频</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0/"><span class="tag">论文笔记</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%87%8F%E5%AD%90%E5%8A%9B%E5%AD%A6/"><span class="tag">量子力学</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%87%8F%E5%AD%90%E8%AE%A1%E7%AE%97/"><span class="tag">量子计算</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%87%8F%E5%AD%90%E9%80%9A%E4%BF%A1/"><span class="tag">量子通信</span><span class="tag">1</span></a></div></div></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/avatar.webp" alt="IcyChlorine&#039;s Blog" height="28"></a><p class="is-size-7"><span>&copy; 2024 IcyChlorine</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a><br><span id="busuanzi_container_site_uv">共<span id="busuanzi_value_site_uv">0</span>个访客</span></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "此网站使用Cookie来改善您的体验。",
          dismiss: "知道了！",
          allow: "允许使用Cookie",
          deny: "拒绝",
          link: "了解更多",
          policy: "Cookie政策",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/mhchem.js" defer></script><script>window.addEventListener("load", function() {
            document.querySelectorAll('[role="article"] > .content').forEach(function(element) {
                renderMathInElement(element);
            });
        });</script><script type="text/x-mathjax-config">MathJax.Hub.Config({
            'HTML-CSS': {
                matchFontHeight: false
            },
            SVG: {
                matchFontHeight: false
            },
            CommonHTML: {
                matchFontHeight: false
            },
            tex2jax: {
                inlineMath: [
                    ['$','$'],
                    ['\\(','\\)']
                ]
            }
        });</script><script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>